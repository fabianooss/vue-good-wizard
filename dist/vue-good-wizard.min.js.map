{"version":3,"file":"vue-good-wizard.min.js","sources":["../src/components/Wizard.vue","../src/index.js"],"sourcesContent":["<template>\r\n  <div class=\"wizard\">\r\n    <ul class=\"wizard__steps\">\r\n      <li class=\"wizard__step\"\r\n        :class=\"{\r\n          'active': isMobile ? currentStep === index : currentStep >= index,\r\n          'vgw-mobile': isMobile,\r\n        }\"\r\n        :style=\"wizardStepStyle\"\r\n        v-for=\"(step, index) of steps\" :key=\"index\">\r\n        <span class=\"wizard__step__line\" :class=\"{'vgw-mobile': isMobile}\"></span>\r\n        <span class=\"wizard__step__label\">{{step.label}}</span>\r\n        <span class=\"wizard__step__indicator\"></span>\r\n      </li>\r\n    </ul>\r\n    <span \r\n      class=\"wizard__arrow\" \r\n      :style=\"{ left: arrowPosition }\">\r\n    </span>\r\n    <div ref=\"wizard-body\" class=\"wizard__body\" :class=\"{'vgw-mobile': isMobile}\">\r\n      <div :key=\"currentSlot\" class=\"wizard__body__step\">\r\n        <slot :name=\"currentSlot\"></slot>\r\n      </div>\r\n      <div class=\"wizard__body__actions clearfix\">\r\n        <a\r\n          tabindex=0\r\n          v-if=\"backEnabled\"\r\n          class=\"wizard__back pull-left underlined_when_focused\"\r\n          v-on:keyup=\"handleKeyupBack($event)\"\r\n          @click=\"goBack()\">\r\n          <i class=\"vgw-icon vgw-prev\"></i>\r\n          <span>{{previousStepLabel}}</span> \r\n        </a>\r\n        <a tabindex=0\r\n          :class=\"{'disabled': options[currentStep].nextDisabled}\"\r\n          v-if=\"currentStep != steps.length - 1\" \r\n          class=\"wizard__next pull-right underlined_when_focused\"\r\n          v-on:keyup=\"handleKeyupNext($event)\"\r\n          @click=\"goNext()\">\r\n          <span>{{nextStepLabel}}</span>\r\n          <i class=\"vgw-icon vgw-next\"></i>\r\n        </a>\r\n        <a\r\n          tabindex=0\r\n          :class=\"{'disabled': options[currentStep].nextDisabled}\"\r\n          v-if=\"currentStep == steps.length - 1\" class=\"wizard__next pull-right final-step  underlined_when_focused\"\r\n          v-on:keyup=\"handleKeyupNext($event)\"\r\n          @click=\"goNext()\">\r\n          <span> {{finalStepLabel}} </span>\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\r\n  name: 'vue-good-wizard',\r\n\r\n  props: {\r\n    steps: {},\r\n    previousStepLabel: {default: 'Back'},\r\n    nextStepLabel: {default: 'Next'},\r\n    finalStepLabel: {default: 'Save'},\r\n    onNext: {},\r\n    onBack: {},\r\n  },\r\n\r\n  watch: {\r\n    steps: {\r\n      handler() {\r\n        this.parseOptions();\r\n      },\r\n      immediate: true,\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      currentStep: 0,\r\n      isMounted: false,\r\n      resizer: null,\r\n      isMobile: false,\r\n      options: [],\r\n    };\r\n  },\r\n  computed: {\r\n    wizardStepStyle() {\r\n      if (this.isMobile) {\r\n        return {\r\n          width: '100%',\r\n        };\r\n      }\r\n\r\n      return {\r\n        width: `${100/this.steps.length}%`,\r\n      };\r\n    },\r\n    mobileArrowPosition() {\r\n      return 'calc(50% - 14px)';\r\n    },\r\n    arrowPosition() {\r\n      if (this.isMobile) {\r\n        return this.mobileArrowPosition;\r\n      }\r\n      var stepSize = 100/this.steps.length;\r\n      var currentStepStart = stepSize * this.currentStep;\r\n      var currentStepMiddle = currentStepStart + (stepSize/2);\r\n      if(this.steps.length == 1)\r\n        return 'calc('+currentStepMiddle+'%)'\r\n      else\r\n        return 'calc('+currentStepMiddle+'% - 14px)'\r\n    },\r\n    currentSlot() {\r\n      return this.steps[this.currentStep].slot;\r\n    },\r\n    backEnabled() {\r\n      return this.currentStep != 0;\r\n    }\r\n  },\r\n  methods: {\r\n    goNext (skipFunction) {\r\n      if (!skipFunction && typeof this.onNext == 'function'){\r\n        if(!this.onNext(this.currentStep)) {\r\n          //returned false. don't do anything\r\n          return;\r\n        }\r\n      }\r\n      if (this.currentStep < this.steps.length-1) {\r\n        this.currentStep++;\r\n      }\r\n    },\r\n    goBack (skipFunction) {\r\n      if (!skipFunction && typeof this.onBack == 'function'){\r\n        if(!this.onBack(this.currentStep)) {\r\n          //returned false. don't do anything\r\n          return;\r\n        }\r\n      }\r\n      if (this.currentStep > 0) {\r\n        this.currentStep--;\r\n      }\r\n    },\r\n\r\n    goTo(step) {\r\n      if (Number.isInteger(step)\r\n        && step < this.steps.length\r\n        && step >= 0) {\r\n        this.currentStep = step;\r\n      } \r\n    },\r\n    \r\n    parseOptions() {\r\n      this.options = [];\r\n      for(let i = 0; i < this.steps.length; i++) {\r\n        this.options.push(this.steps[i].options ? this.steps[i].options : {});\r\n      } \r\n    },\r\n\r\n    handleResize() {\r\n      console.log('handle resize')\r\n      if (this.resizer) {\r\n        clearTimeout(this.resizer);\r\n      }\r\n      this.resizer = setTimeout(() => {\r\n        console.log('resizing...');\r\n        this.isMobile = this.$refs['wizard-body'].clientWidth < 620;\r\n      }, 100);\r\n    },\r\n\r\n    handleKeyupBack(event) {\r\n      if(this.isValidKey(event)) {\r\n        this.goBack()\r\n      }\r\n    },\r\n\r\n    handleKeyupNext(event) {\r\n      if(this.isValidKey(event)) {\r\n        this.goNext()\r\n      }\r\n    },\r\n\r\n    isValidKey(event) {\r\n      return event.key == 'Enter' || event.key == ' '\r\n    }\r\n  },\r\n  mounted() {\r\n    this.isMobile = this.$refs['wizard-body'].clientWidth < 620;\r\n    window.addEventListener('resize', this.handleResize)\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener('resize', this.handleResize)\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n/* Utilities\r\n*******************************/\r\n\r\n.pull-left{\r\n  float:  left !important;\r\n}\r\n\r\n.pull-right{\r\n  float:  right !important;\r\n}\r\n\r\n.clearfix::after {\r\n  display: block;\r\n  content: \"\";\r\n  clear: both;\r\n}\r\n\r\n/* Header Steps \r\n*******************************/\r\n.wizard {\r\n  position: relative;\r\n  width:  100%;\r\n}\r\n\r\n.wizard__steps{\r\n  list-style-type:  none;\r\n  text-align: justify;\r\n  -ms-text-justify: distribute-all-lines;\r\n  text-justify: distribute-all-lines;\r\n  padding:  0;\r\n  height:  70px;\r\n  position:  relative;\r\n}\r\n\r\n.stretch {\r\n  width: 100%;\r\n  display: inline-block;\r\n  font-size: 0;\r\n  line-height: 0\r\n}\r\n\r\n.wizard__step{\r\n  height: 70px;\r\n  vertical-align: bottom;\r\n  display: inline-block;\r\n  text-align: center;\r\n  position:  relative;\r\n}\r\n\r\n.wizard__step:not(:first-child) .wizard__step__line{\r\n  position: absolute;\r\n  width:  100%;\r\n  left:  -50%;\r\n  bottom:  12px;\r\n  height:  3px;\r\n  background-color: #b9c7d2;\r\n}\r\n\r\n.wizard__step__indicator{\r\n  box-sizing: content-box;\r\n  display:  block;\r\n  width:  16px;\r\n  height:  16px;\r\n  background-color: #51abe4;\r\n  border-radius: 50%;\r\n  border: 3px solid #fff;\r\n  position:  absolute;\r\n  left:  50%;\r\n  margin-left:  -10px;\r\n  bottom:  2px;\r\n  z-index: 1;\r\n}\r\n\r\n.wizard__step.active .wizard__step__indicator{\r\n  background-color: #6eb165;\r\n}\r\n\r\n.wizard__step.active:not(:first-child) .wizard__step__line{\r\n  background-color: #6eb165; /* green */\r\n}\r\n\r\n.wizard__step__label{\r\n  color:  #98a4af;\r\n  font-weight: bold;\r\n}\r\n\r\n/* Wizard body \r\n*******************************/\r\n.wizard__body{\r\n  margin-top:  30px;\r\n  min-height:  400px;\r\n  margin-left:  50px;\r\n  margin-right:  50px;\r\n  border:  1px solid #aebac4;\r\n  background-color: #fff;\r\n  position: relative;\r\n  border-radius: 5px;\r\n  padding-bottom: 50px;\r\n}\r\n\r\n.wizard__body__step{\r\n  padding:  20px;\r\n}\r\n\r\n.wizard__arrow{\r\n  position:  absolute;\r\n  display: block;\r\n  width:  30px;\r\n  height:  30px;\r\n  border:  1px solid #aebac4;\r\n  top:  85px; /* height of step + body margin -15 */\r\n  border-top-right-radius: 5px;\r\n  background-color: #fff;\r\n  border-left: none;\r\n  border-bottom:  none;\r\n  transform: rotate(-45deg);\r\n  z-index: 2;\r\n  -webkit-transition: left 0.3s;\r\n  -o-transition: left 0.3s;\r\n  transition: left 0.3s;\r\n}\r\n\r\n/* Wizard body \r\n*******************************/\r\n.wizard__body__actions{\r\n  position:  absolute;\r\n  bottom:  0px;\r\n  height:  50px;\r\n  width:  100%;\r\n  border-top:  1px solid #aebac4;\r\n  background-color: #b9c7d2;\r\n}\r\n\r\n.wizard__body__actions a{\r\n  width:  120px;\r\n  height:  100%;\r\n  display: block;\r\n  background-color: #51abe4;\r\n  color:  white;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  line-height: 48px;\r\n  cursor: pointer;\r\n  -webkit-transition: background-color 0.3s;\r\n  -o-transition: background-color 0.3s;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.wizard__body__actions a.disabled{\r\n  cursor: not-allowed;\r\n  -webkit-touch-callout: none;\r\n  -webkit-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none;\r\n  opacity: 0.5;\r\n}\r\n\r\n\r\n.wizard__body__actions a>.vgw-icon, .wizard__body__actions a>span{\r\n  vertical-align: middle;\r\n  position: relative;\r\n  margin-right: 5px;\r\n}\r\n\r\n.wizard__body__actions .vgw-icon::after{\r\n  position: absolute;\r\n  content: \"\";\r\n  transform: rotate(-45deg);\r\n  width: 8px;\r\n  height: 8px;\r\n  top: 50%;\r\n  margin-top: -5px;\r\n}\r\n\r\n.vgw-icon.vgw-next::after{\r\n  border-bottom: 2px solid white;\r\n  border-right: 2px solid white;\r\n}\r\n\r\n.vgw-icon.vgw-prev::after{\r\n  border-top: 2px solid white;\r\n  border-left: 2px solid white;\r\n  left: -10px;\r\n}\r\n\r\n.wizard__body__actions a:hover{\r\n  background-color: #357fae;\r\n}\r\n\r\n.wizard__body__actions a.final-step{\r\n  background-color: #6eb165;\r\n}\r\n\r\n.underlined_when_focused:focus > span {\r\n  text-decoration: underline\r\n}\r\n\r\n/* mobile */\r\n.wizard__body.vgw-mobile{\r\n  margin-left: 10px;\r\n  margin-right: 10px;\r\n}\r\n.wizard__step.vgw-mobile{\r\n  display: none;\r\n}\r\n.wizard__step .wizard__step__line.vgw-mobile{\r\n  display: none;\r\n}\r\n.wizard__step.active.vgw-mobile{\r\n  display: inline-block;\r\n}\r\n\r\n</style>\r\n","import GoodWizard from './components/Wizard.vue';\r\n\r\nvar GoodWizardPlugin = {\r\n  install: function(Vue, options) {\r\n    Vue.component(GoodWizard.name, GoodWizard);\r\n  },\r\n};\r\n\r\n// Automatic installation if Vue has been added to the global scope.\r\nif (typeof window !== 'undefined' && window.Vue) {\r\n  window.Vue.use(GoodWizardPlugin);\r\n}\r\n\r\nexport default GoodWizardPlugin;\r\nexport { GoodWizard };\r\n"],"names":["render","default","parseOptions","this","isMobile","steps","length","mobileArrowPosition","stepSize","currentStepMiddle","currentStep","slot","skipFunction","onNext","onBack","step","Number","isInteger","options","let","i","push","log","resizer","setTimeout","$refs","clientWidth","event","isValidKey","goBack","goNext","key","addEventListener","handleResize","removeEventListener","GoodWizardPlugin","Vue","component","GoodWizard","name","window","use"],"mappings":";;;;;;iMAAA,kvIAAA,GAwDA,OAAgBA,03DAER,qDAIgBC,QAAS,uBACbA,QAAS,wBACRA,QAAS,mEAQjBC,2BAEI,uCAME,aACF,UACF,eACC,2DAMNC,KAAKC,gBAEE,eAKC,IAAID,KAAKE,MAAMC,kDAIpB,gDAGHH,KAAKC,gBACAD,KAAKI,wBAEVC,EAAW,IAAIL,KAAKE,MAAMC,OAE1BG,EADmBD,EAAWL,KAAKO,YACKF,EAAS,SAC7B,GAArBL,KAAKE,MAAMC,OACL,QAAQG,EAAkB,KAE1B,QAAQA,EAAkB,2CAG5BN,KAAKE,MAAMF,KAAKO,aAAaC,oCAGT,GAApBR,KAAKO,uCAINE,IACDA,GAAsC,mBAAfT,KAAKU,QAC3BV,KAAKU,OAAOV,KAAKO,eAKnBP,KAAKO,YAAcP,KAAKE,MAAMC,OAAO,QAClCI,+BAGDE,IACDA,GAAsC,mBAAfT,KAAKW,QAC3BX,KAAKW,OAAOX,KAAKO,eAKnBP,KAAKO,YAAc,QAChBA,6BAIJK,GACCC,OAAOC,UAAUF,IAChBA,EAAOZ,KAAKE,MAAMC,QAClBS,GAAQ,SACNL,YAAcK,iCAKhBG,eACDC,IAAIC,EAAI,EAAGA,EAAIjB,KAAKE,MAAMC,OAAQc,SAC/BF,QAAQG,UAAUhB,MAAMe,GAAGF,aAAeb,MAAMe,GAAGF,wDAKlDI,IAAI,iBACRnB,KAAKoB,sBACMpB,KAAKoB,cAEfA,QAAUC,8BACLF,IAAI,iBACPlB,SAAWD,EAAKsB,MAAM,eAAeC,YAAc,KACvD,+BAGWC,GACXxB,KAAKyB,WAAWD,SACZE,mCAIOF,GACXxB,KAAKyB,WAAWD,SACZG,8BAIEH,SACW,SAAbA,EAAMI,KAA+B,KAAbJ,EAAMI,8BAIlC3B,SAAWD,KAAKsB,MAAM,eAAeC,YAAc,WACjDM,iBAAiB,SAAU7B,KAAK8B,+CAGhCC,oBAAoB,SAAU/B,KAAK8B,gBC9L1CE,WACO,SAASC,EAAKlB,KACjBmB,UAAUC,EAAWC,KAAMD,KAKb,oBAAXE,QAA0BA,OAAOJ,YACnCA,IAAIK,IAAIN"}